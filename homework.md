# Домашнее задание к занятию "Индексы" - Вебер Сергей


### Задание 1

Задание 1. Резервное копирование
Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.

Необходимо описать, какие варианты резервного копирования подходят в случаях:

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

a) Полная резервная копия (Full backup): В этом случае создается полная копия всех данных базы данных за предыдущий день. При восстановлении данные могут быть просто восстановлены из полной копии.

б) Инкрементальное резервное копирование (Incremental backup): В этом случае создается копия только измененных данных с момента последнего полного или инкрементального бэкапа. Для восстановления данных необходимо восстановить последний полный бэкап и затем применить последующие инкрементальные копии до нужного дня.


1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

Дифференциальное резервное копирование (Differential backup): В этом случае создается копия всех измененных данных с момента последнего полного бэкапа. При восстановлении данных можно восстановить последний полный бэкап и затем применить дифференциальный бэкап до нужного временного отметки.


1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

В этом случае резервное копирование не требуется, поскольку система уже имеет альтернативную работающую базу данных, на которую происходит автоматическое переключение при обнаружении поломки основной базы данных. Это может быть реализовано, например, с помощью репликации базы данных или настройкой кластера баз данных с автоматическим обнаружением сбоев и переключением на работающую копию.


### Задание 2

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).


Резервирование данных с помощью pg_dump:

pg_dump -U <username> -d <database_name> -f <backup_file_name>


Восстановление данных с помощью pg_restore:
pg_restore -U <username> -d <database_name> <backup_file_name>



### Задание 3

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.

--incremental-base=history:last_full_backup


